---
posttype: "docs"
title: Context menu
metaTitle: "Context menu"
metaDescription: "metaDescription"
---

## Context menu

ReactGrid contains builtin custom context menu. 
Defaultly it will be contains only three options - copy, cut, paste. You also can create your custom actions.

## Enabling simple context menu

This lesson is based on [handling changes](link).

1. Update imports by adding [`Id`](link), [`SelectionMode`](link) and [`MenuOption`](link) interface

```tsx
import { ReactGrid, Id, MenuOption } from "@silevis/reactgrid"; 
```

2. Define event callback function

```tsx
const simpleHandleContextMenu = (
    selectedRowIds: Id[],
    selectedColIds: Id[],
    selectionMode: SelectionMode,
    menuOptions: MenuOption[]
  ): MenuOption[] => {
    return menuOptions;
  };
```

`menuOptions` argument of `simpleHandleContextMenu` contains default list of predefined options. 
At this moment we will just return it.

Let's check result by right clicking on any cell:

<iframe
	src="https://codesandbox.io/embed/reactgrid-getting-started-kfwpe?fontsize=14&hidenavigation=1&theme=dark"
	style="width:100%; height:250px; border:0; border-radius: 4px; overflow:hidden;"
	title="reactgrid-simple-context-menu-handling"
	allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
	sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

## Advanced usage - removing columns and rows

This lesson is based on [simple handling context menu](link).
Our task will be handling `onContextMenu` callback, then detect current [`SelectionMode`](link). 
After that we will be able to append custom menu option that removes selected column or row.

1. Update imports

```tsx
import { ReactGrid, Id, MenuOption, Column, Row, Cell } from "@silevis/reactgrid"; 
```

2. Implement callback handler function

```tsx
const handleContextMenu = (selectedRowIds: Id[], selectedColIds: Id[], selectionMode: SelectionMode, menuOptions: MenuOption[]): MenuOption[] => {
    if (selectionMode === 'row') {
      menuOptions = [
        ...menuOptions,
        {
          id: 'removeRow', label: 'Remove row', handler: () => {
            setState({ ...state, rows: state.rows.filter((row: Row) => !selectedRowIds.includes(row.rowId)) });
          }
        },
      ]
    }
    if (selectionMode === 'column') {
      menuOptions = [
        ...menuOptions,
        {
          id: 'removeColumn', label: 'Remove column', handler: () => {
            const columns: Column[] = state.columns.filter((column: Column) => !selectedColIds.includes(column.columnId));
            const columnsIdxs = state.columns.map((column: Column, idx: number) => {
              if (!columns.includes(column)) return idx;
              return undefined;
            }).filter(idx => idx !== undefined);
            const rows = state.rows.map((row: Row) => ({ ...row, cells: row.cells.filter((_: Cell, idx: number) => !columnsIdxs.includes(idx)) }));
            setState({ ...state, columns, rows });
          }
        },
      ]
    }
    return menuOptions;
}
```

3. Update `ReactGrid` component props. Note that columns and rows must be selectable.

```tsx
return (
    <ReactGrid
		rows={state.rows}
		columns={state.columns}
		license={"non-commercial"}
		onCellsChanged={handleChanges} // highlight-line
		onContextMenu={handleContextMenu}  // highlight-line
		enableColumnSelection // highlight-line
		enableRowSelection // highlight-line
    />
);
```

<iframe
	src="https://codesandbox.io/embed/reactgrid-simple-context-menu-handling-2ic2h?fontsize=14&hidenavigation=1&theme=dark"
	style="width:100%; height:250px; border:0; border-radius: 4px; overflow:hidden;"
	title="reactgrid-advanced-context-menu-handling"
	allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
	sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>